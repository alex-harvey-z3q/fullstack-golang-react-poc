<div class="page">
  <h1>Tasks (Angular)</h1>

  <form (submit)="addTask(); $event.preventDefault()" class="form-row">
    <input
      class="input"
      type="text"
      placeholder="Add a new task…"
      [(ngModel)]="title"
      name="title"
      aria-label="Task title" />
    <button class="btn" [disabled]="!canSubmit">{{ submitting ? 'Adding…' : 'Add' }}</button>
  </form>

  <div *ngIf="error" class="error">⚠️ {{ error }}</div>
  <div *ngIf="pending" class="muted">Loading…</div>

  <ul *ngIf="!pending && !error" class="list">
    <li *ngFor="let t of tasks" class="list-item">
      <input type="checkbox" [checked]="t.done" disabled />
      <span [class.done]="t.done">{{ t.title }}</span>
    </li>
    <li *ngIf="(tasks ?? []).length === 0" class="muted">No tasks yet. Add your first one above.</li>
  </ul>
</div>
